import { Component, Input } from '@angular/core';
import { SmartTableType } from './smarttable.model';
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/table";
import * as i2 from "@angular/material/icon";
import * as i3 from "@angular/material/button";
import * as i4 from "@angular/material/menu";
import * as i5 from "@smartbit4all/smart-toolbar";
import * as i6 from "@angular/material/checkbox";
import * as i7 from "@angular/common";
export class SmarttableComponent {
    constructor() {
        this.tableType = SmartTableType;
    }
    ngOnInit() { }
    isAllSelected() {
        const numSelected = this.smartTable.selection.selected.length;
        const numRows = this.smartTable.tableRows.length;
        return numSelected === numRows;
    }
    /** Selects all rows if they are not all selected; otherwise clear selection. */
    toggleAllRows() {
        if (this.isAllSelected()) {
            this.smartTable.selection.clear();
            return;
        }
        this.smartTable.selection.select(...this.smartTable.tableRows);
    }
    /** The label for the checkbox on the passed row */
    checkboxLabel(row) {
        if (!row) {
            return `${this.isAllSelected() ? 'deselect' : 'select'} all`;
        }
        return `${this.smartTable.selection.isSelected(row) ? 'deselect' : 'select'} row ${row.position + 1}`;
    }
}
SmarttableComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.2.7", ngImport: i0, type: SmarttableComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
SmarttableComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.2.7", type: SmarttableComponent, selector: "smarttable", inputs: { smartTable: "smartTable" }, ngImport: i0, template: "<table mat-table [dataSource]=\"smartTable.tableRows\" class=\"full-width\">\n  <!--- Note that these columns can be defined in any order.\n            The actual rendered columns are set as a property on the row definition\" -->\n\n  <!-- Column Descriptor -->\n  <div *ngIf=\"smartTable.tableType === tableType.INHERITED\">\n    <ng-container\n      *ngFor=\"let header of smartTable.tableHeaders; let i = index\"\n      matColumnDef=\"{{ header }}\"\n    >\n      <th mat-header-cell *matHeaderCellDef>\n        <div\n          *ngIf=\"\n            header === 'icon' ||\n            header === 'img' ||\n            header === 'options' ||\n            header === 'button'\n          \"\n        ></div>\n        <div\n          *ngIf=\"\n            header !== 'icon' &&\n            header !== 'img' &&\n            header !== 'options' &&\n            header !== 'button'\n          \"\n        >\n          {{ smartTable.customTableHeaders[i] }}\n        </div>\n      </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <mat-icon *ngIf=\"header === 'icon'\"> {{ element[header] }} </mat-icon>\n        <img\n          *ngIf=\"header === 'img'\"\n          [src]=\"element[header]\"\n          alt=\"\"\n          class=\"smarttableImg\"\n        />\n        <div *ngIf=\"header === 'options'\">\n          <button\n            mat-icon-button\n            [matMenuTriggerFor]=\"menu\"\n            aria-label=\"options\"\n          >\n            <mat-icon>more_vert</mat-icon>\n          </button>\n          <mat-menu #menu=\"matMenu\">\n            <button\n              *ngFor=\"let option of smartTable.options\"\n              mat-menu-item\n              (click)=\"option.callback(element)\"\n            >\n              <mat-icon *ngIf=\"option.icon\">\n                {{ option.icon }}\n              </mat-icon>\n              <span>\n                {{ option.label }}\n              </span>\n            </button>\n          </mat-menu>\n        </div>\n        <div\n          *ngIf=\"\n            header !== 'icon' &&\n            header !== 'img' &&\n            header !== 'option' &&\n            header !== 'button'\n          \"\n        >\n          {{ element[header] }}\n        </div>\n        <div *ngIf=\"header === 'button'\">\n          <smart-toolbar [toolbar]=\"element[header]\"></smart-toolbar>\n        </div>\n      </td>\n    </ng-container>\n\n    <tr\n      mat-header-row\n      *matHeaderRowDef=\"smartTable.tableHeaders; sticky: true\"\n    ></tr>\n    <tr mat-row *matRowDef=\"let row; columns: smartTable.tableHeaders\"></tr>\n  </div>\n  <div *ngIf=\"smartTable.tableType !== tableType.INHERITED\">\n    <!-- Checkbox Column -->\n    <ng-container matColumnDef=\"select\">\n      <th mat-header-cell *matHeaderCellDef>\n        <mat-checkbox\n          (change)=\"$event ? toggleAllRows() : null\"\n          [checked]=\"smartTable.selection!.hasValue() && isAllSelected()\"\n          [indeterminate]=\"smartTable.selection!.hasValue() && !isAllSelected()\"\n          [aria-label]=\"checkboxLabel()\"\n        >\n        </mat-checkbox>\n      </th>\n      <td mat-cell *matCellDef=\"let row\">\n        <mat-checkbox\n          (click)=\"$event.stopPropagation()\"\n          (change)=\"$event ? smartTable.selection!.toggle(row) : null\"\n          [checked]=\"smartTable.selection!.isSelected(row)\"\n          [aria-label]=\"checkboxLabel(row)\"\n        >\n        </mat-checkbox>\n      </td>\n    </ng-container>\n\n    <!-- Column Descriptor -->\n    <div *ngFor=\"let header of smartTable.tableHeaders; let i = index\">\n      <ng-container *ngIf=\"header !== 'select'\" matColumnDef=\"{{ header }}\">\n        <th mat-header-cell *matHeaderCellDef>\n          <div\n            *ngIf=\"\n              header === 'icon' || header === 'img' || header === 'options'\n            \"\n          ></div>\n          <div\n            *ngIf=\"\n              header !== 'icon' && header !== 'img' && header !== 'options'\n            \"\n          >\n            {{ smartTable.customTableHeaders[i] }}\n          </div>\n        </th>\n        <td mat-cell *matCellDef=\"let element\">\n          <mat-icon *ngIf=\"header === 'icon'\"> {{ element[header] }} </mat-icon>\n          <img\n            *ngIf=\"header === 'img'\"\n            [src]=\"element[header]\"\n            alt=\"\"\n            class=\"smarttableImg\"\n          />\n          <div *ngIf=\"header === 'options'\">\n            <button\n              mat-icon-button\n              [matMenuTriggerFor]=\"menu\"\n              aria-label=\"options\"\n            >\n              <mat-icon>more_vert</mat-icon>\n            </button>\n            <mat-menu #menu=\"matMenu\">\n              <button\n                *ngFor=\"let option of smartTable.options\"\n                mat-menu-item\n                (click)=\"option.callback(element)\"\n              >\n                <mat-icon *ngIf=\"option.icon\">\n                  {{ option.icon }}\n                </mat-icon>\n                <span>\n                  {{ option.label }}\n                </span>\n              </button>\n            </mat-menu>\n          </div>\n          <div *ngIf=\"header !== 'icon' && header !== 'img'\">\n            {{ element[header] }}\n          </div>\n        </td>\n        <!-- <td mat-cell *matCellDef=\"let element\">{{ element[header] }}</td> -->\n      </ng-container>\n    </div>\n\n    <tr mat-header-row *matHeaderRowDef=\"smartTable.tableHeaders\"></tr>\n    <tr\n      mat-row\n      *matRowDef=\"let row; columns: smartTable.tableHeaders\"\n      (click)=\"smartTable.selection!.toggle(row)\"\n    ></tr>\n  </div>\n</table>\n", styles: [".full-width{width:100%}.smarttableImg{width:25px}\n"], components: [{ type: i1.MatTable, selector: "mat-table, table[mat-table]", exportAs: ["matTable"] }, { type: i2.MatIcon, selector: "mat-icon", inputs: ["color", "inline", "svgIcon", "fontSet", "fontIcon"], exportAs: ["matIcon"] }, { type: i3.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }, { type: i4.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { type: i4.MatMenuItem, selector: "[mat-menu-item]", inputs: ["disabled", "disableRipple", "role"], exportAs: ["matMenuItem"] }, { type: i5.SmartToolbarComponent, selector: "smart-toolbar", inputs: ["toolbar"] }, { type: i1.MatHeaderRow, selector: "mat-header-row, tr[mat-header-row]", exportAs: ["matHeaderRow"] }, { type: i1.MatRow, selector: "mat-row, tr[mat-row]", exportAs: ["matRow"] }, { type: i6.MatCheckbox, selector: "mat-checkbox", inputs: ["disableRipple", "color", "tabIndex", "aria-label", "aria-labelledby", "aria-describedby", "id", "required", "labelPosition", "name", "value", "checked", "disabled", "indeterminate"], outputs: ["change", "indeterminateChange"], exportAs: ["matCheckbox"] }], directives: [{ type: i7.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i7.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i1.MatColumnDef, selector: "[matColumnDef]", inputs: ["sticky", "matColumnDef"] }, { type: i1.MatHeaderCellDef, selector: "[matHeaderCellDef]" }, { type: i1.MatHeaderCell, selector: "mat-header-cell, th[mat-header-cell]" }, { type: i1.MatCellDef, selector: "[matCellDef]" }, { type: i1.MatCell, selector: "mat-cell, td[mat-cell]" }, { type: i4.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { type: i1.MatHeaderRowDef, selector: "[matHeaderRowDef]", inputs: ["matHeaderRowDef", "matHeaderRowDefSticky"] }, { type: i1.MatRowDef, selector: "[matRowDef]", inputs: ["matRowDefColumns", "matRowDefWhen"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.2.7", ngImport: i0, type: SmarttableComponent, decorators: [{
            type: Component,
            args: [{ selector: 'smarttable', template: "<table mat-table [dataSource]=\"smartTable.tableRows\" class=\"full-width\">\n  <!--- Note that these columns can be defined in any order.\n            The actual rendered columns are set as a property on the row definition\" -->\n\n  <!-- Column Descriptor -->\n  <div *ngIf=\"smartTable.tableType === tableType.INHERITED\">\n    <ng-container\n      *ngFor=\"let header of smartTable.tableHeaders; let i = index\"\n      matColumnDef=\"{{ header }}\"\n    >\n      <th mat-header-cell *matHeaderCellDef>\n        <div\n          *ngIf=\"\n            header === 'icon' ||\n            header === 'img' ||\n            header === 'options' ||\n            header === 'button'\n          \"\n        ></div>\n        <div\n          *ngIf=\"\n            header !== 'icon' &&\n            header !== 'img' &&\n            header !== 'options' &&\n            header !== 'button'\n          \"\n        >\n          {{ smartTable.customTableHeaders[i] }}\n        </div>\n      </th>\n      <td mat-cell *matCellDef=\"let element\">\n        <mat-icon *ngIf=\"header === 'icon'\"> {{ element[header] }} </mat-icon>\n        <img\n          *ngIf=\"header === 'img'\"\n          [src]=\"element[header]\"\n          alt=\"\"\n          class=\"smarttableImg\"\n        />\n        <div *ngIf=\"header === 'options'\">\n          <button\n            mat-icon-button\n            [matMenuTriggerFor]=\"menu\"\n            aria-label=\"options\"\n          >\n            <mat-icon>more_vert</mat-icon>\n          </button>\n          <mat-menu #menu=\"matMenu\">\n            <button\n              *ngFor=\"let option of smartTable.options\"\n              mat-menu-item\n              (click)=\"option.callback(element)\"\n            >\n              <mat-icon *ngIf=\"option.icon\">\n                {{ option.icon }}\n              </mat-icon>\n              <span>\n                {{ option.label }}\n              </span>\n            </button>\n          </mat-menu>\n        </div>\n        <div\n          *ngIf=\"\n            header !== 'icon' &&\n            header !== 'img' &&\n            header !== 'option' &&\n            header !== 'button'\n          \"\n        >\n          {{ element[header] }}\n        </div>\n        <div *ngIf=\"header === 'button'\">\n          <smart-toolbar [toolbar]=\"element[header]\"></smart-toolbar>\n        </div>\n      </td>\n    </ng-container>\n\n    <tr\n      mat-header-row\n      *matHeaderRowDef=\"smartTable.tableHeaders; sticky: true\"\n    ></tr>\n    <tr mat-row *matRowDef=\"let row; columns: smartTable.tableHeaders\"></tr>\n  </div>\n  <div *ngIf=\"smartTable.tableType !== tableType.INHERITED\">\n    <!-- Checkbox Column -->\n    <ng-container matColumnDef=\"select\">\n      <th mat-header-cell *matHeaderCellDef>\n        <mat-checkbox\n          (change)=\"$event ? toggleAllRows() : null\"\n          [checked]=\"smartTable.selection!.hasValue() && isAllSelected()\"\n          [indeterminate]=\"smartTable.selection!.hasValue() && !isAllSelected()\"\n          [aria-label]=\"checkboxLabel()\"\n        >\n        </mat-checkbox>\n      </th>\n      <td mat-cell *matCellDef=\"let row\">\n        <mat-checkbox\n          (click)=\"$event.stopPropagation()\"\n          (change)=\"$event ? smartTable.selection!.toggle(row) : null\"\n          [checked]=\"smartTable.selection!.isSelected(row)\"\n          [aria-label]=\"checkboxLabel(row)\"\n        >\n        </mat-checkbox>\n      </td>\n    </ng-container>\n\n    <!-- Column Descriptor -->\n    <div *ngFor=\"let header of smartTable.tableHeaders; let i = index\">\n      <ng-container *ngIf=\"header !== 'select'\" matColumnDef=\"{{ header }}\">\n        <th mat-header-cell *matHeaderCellDef>\n          <div\n            *ngIf=\"\n              header === 'icon' || header === 'img' || header === 'options'\n            \"\n          ></div>\n          <div\n            *ngIf=\"\n              header !== 'icon' && header !== 'img' && header !== 'options'\n            \"\n          >\n            {{ smartTable.customTableHeaders[i] }}\n          </div>\n        </th>\n        <td mat-cell *matCellDef=\"let element\">\n          <mat-icon *ngIf=\"header === 'icon'\"> {{ element[header] }} </mat-icon>\n          <img\n            *ngIf=\"header === 'img'\"\n            [src]=\"element[header]\"\n            alt=\"\"\n            class=\"smarttableImg\"\n          />\n          <div *ngIf=\"header === 'options'\">\n            <button\n              mat-icon-button\n              [matMenuTriggerFor]=\"menu\"\n              aria-label=\"options\"\n            >\n              <mat-icon>more_vert</mat-icon>\n            </button>\n            <mat-menu #menu=\"matMenu\">\n              <button\n                *ngFor=\"let option of smartTable.options\"\n                mat-menu-item\n                (click)=\"option.callback(element)\"\n              >\n                <mat-icon *ngIf=\"option.icon\">\n                  {{ option.icon }}\n                </mat-icon>\n                <span>\n                  {{ option.label }}\n                </span>\n              </button>\n            </mat-menu>\n          </div>\n          <div *ngIf=\"header !== 'icon' && header !== 'img'\">\n            {{ element[header] }}\n          </div>\n        </td>\n        <!-- <td mat-cell *matCellDef=\"let element\">{{ element[header] }}</td> -->\n      </ng-container>\n    </div>\n\n    <tr mat-header-row *matHeaderRowDef=\"smartTable.tableHeaders\"></tr>\n    <tr\n      mat-row\n      *matRowDef=\"let row; columns: smartTable.tableHeaders\"\n      (click)=\"smartTable.selection!.toggle(row)\"\n    ></tr>\n  </div>\n</table>\n", styles: [".full-width{width:100%}.smarttableImg{width:25px}\n"] }]
        }], ctorParameters: function () { return []; }, propDecorators: { smartTable: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic21hcnR0YWJsZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9zbWFydHRhYmxlL3NyYy9saWIvc21hcnR0YWJsZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9zbWFydHRhYmxlL3NyYy9saWIvc21hcnR0YWJsZS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUN6RCxPQUFPLEVBQWMsY0FBYyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7Ozs7Ozs7OztBQU9oRSxNQUFNLE9BQU8sbUJBQW1CO0lBSS9CO1FBRkEsY0FBUyxHQUFHLGNBQWMsQ0FBQztJQUVaLENBQUM7SUFFaEIsUUFBUSxLQUFVLENBQUM7SUFFbkIsYUFBYTtRQUNaLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBVSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7UUFDL0QsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO1FBQ2pELE9BQU8sV0FBVyxLQUFLLE9BQU8sQ0FBQztJQUNoQyxDQUFDO0lBRUQsZ0ZBQWdGO0lBQ2hGLGFBQWE7UUFDWixJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsRUFBRTtZQUN6QixJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUNuQyxPQUFPO1NBQ1A7UUFFRCxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2pFLENBQUM7SUFFRCxtREFBbUQ7SUFDbkQsYUFBYSxDQUFDLEdBQVM7UUFDdEIsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNULE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsUUFBUSxNQUFNLENBQUM7U0FDN0Q7UUFDRCxPQUFPLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFVLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLFFBQVEsUUFDM0UsR0FBRyxDQUFDLFFBQVEsR0FBRyxDQUNoQixFQUFFLENBQUM7SUFDSixDQUFDOztnSEFoQ1csbUJBQW1CO29HQUFuQixtQkFBbUIsd0ZDUmhDLGtqTEEwS0E7MkZEbEthLG1CQUFtQjtrQkFML0IsU0FBUzsrQkFDQyxZQUFZOzBFQUtiLFVBQVU7c0JBQWxCLEtBQUsiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFNtYXJ0VGFibGUsIFNtYXJ0VGFibGVUeXBlIH0gZnJvbSAnLi9zbWFydHRhYmxlLm1vZGVsJztcblxuQENvbXBvbmVudCh7XG5cdHNlbGVjdG9yOiAnc21hcnR0YWJsZScsXG5cdHRlbXBsYXRlVXJsOiAnLi9zbWFydHRhYmxlLmNvbXBvbmVudC5odG1sJyxcblx0c3R5bGVVcmxzOiBbJy4vc21hcnR0YWJsZS5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgU21hcnR0YWJsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cdEBJbnB1dCgpIHNtYXJ0VGFibGUhOiBTbWFydFRhYmxlPGFueT47XG5cdHRhYmxlVHlwZSA9IFNtYXJ0VGFibGVUeXBlO1xuXG5cdGNvbnN0cnVjdG9yKCkge31cblxuXHRuZ09uSW5pdCgpOiB2b2lkIHt9XG5cblx0aXNBbGxTZWxlY3RlZCgpIHtcblx0XHRjb25zdCBudW1TZWxlY3RlZCA9IHRoaXMuc21hcnRUYWJsZS5zZWxlY3Rpb24hLnNlbGVjdGVkLmxlbmd0aDtcblx0XHRjb25zdCBudW1Sb3dzID0gdGhpcy5zbWFydFRhYmxlLnRhYmxlUm93cy5sZW5ndGg7XG5cdFx0cmV0dXJuIG51bVNlbGVjdGVkID09PSBudW1Sb3dzO1xuXHR9XG5cblx0LyoqIFNlbGVjdHMgYWxsIHJvd3MgaWYgdGhleSBhcmUgbm90IGFsbCBzZWxlY3RlZDsgb3RoZXJ3aXNlIGNsZWFyIHNlbGVjdGlvbi4gKi9cblx0dG9nZ2xlQWxsUm93cygpIHtcblx0XHRpZiAodGhpcy5pc0FsbFNlbGVjdGVkKCkpIHtcblx0XHRcdHRoaXMuc21hcnRUYWJsZS5zZWxlY3Rpb24hLmNsZWFyKCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dGhpcy5zbWFydFRhYmxlLnNlbGVjdGlvbiEuc2VsZWN0KC4uLnRoaXMuc21hcnRUYWJsZS50YWJsZVJvd3MpO1xuXHR9XG5cblx0LyoqIFRoZSBsYWJlbCBmb3IgdGhlIGNoZWNrYm94IG9uIHRoZSBwYXNzZWQgcm93ICovXG5cdGNoZWNrYm94TGFiZWwocm93PzogYW55KTogc3RyaW5nIHtcblx0XHRpZiAoIXJvdykge1xuXHRcdFx0cmV0dXJuIGAke3RoaXMuaXNBbGxTZWxlY3RlZCgpID8gJ2Rlc2VsZWN0JyA6ICdzZWxlY3QnfSBhbGxgO1xuXHRcdH1cblx0XHRyZXR1cm4gYCR7dGhpcy5zbWFydFRhYmxlLnNlbGVjdGlvbiEuaXNTZWxlY3RlZChyb3cpID8gJ2Rlc2VsZWN0JyA6ICdzZWxlY3QnfSByb3cgJHtcblx0XHRcdHJvdy5wb3NpdGlvbiArIDFcblx0XHR9YDtcblx0fVxufVxuIiwiPHRhYmxlIG1hdC10YWJsZSBbZGF0YVNvdXJjZV09XCJzbWFydFRhYmxlLnRhYmxlUm93c1wiIGNsYXNzPVwiZnVsbC13aWR0aFwiPlxuICA8IS0tLSBOb3RlIHRoYXQgdGhlc2UgY29sdW1ucyBjYW4gYmUgZGVmaW5lZCBpbiBhbnkgb3JkZXIuXG4gICAgICAgICAgICBUaGUgYWN0dWFsIHJlbmRlcmVkIGNvbHVtbnMgYXJlIHNldCBhcyBhIHByb3BlcnR5IG9uIHRoZSByb3cgZGVmaW5pdGlvblwiIC0tPlxuXG4gIDwhLS0gQ29sdW1uIERlc2NyaXB0b3IgLS0+XG4gIDxkaXYgKm5nSWY9XCJzbWFydFRhYmxlLnRhYmxlVHlwZSA9PT0gdGFibGVUeXBlLklOSEVSSVRFRFwiPlxuICAgIDxuZy1jb250YWluZXJcbiAgICAgICpuZ0Zvcj1cImxldCBoZWFkZXIgb2Ygc21hcnRUYWJsZS50YWJsZUhlYWRlcnM7IGxldCBpID0gaW5kZXhcIlxuICAgICAgbWF0Q29sdW1uRGVmPVwie3sgaGVhZGVyIH19XCJcbiAgICA+XG4gICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgKm5nSWY9XCJcbiAgICAgICAgICAgIGhlYWRlciA9PT0gJ2ljb24nIHx8XG4gICAgICAgICAgICBoZWFkZXIgPT09ICdpbWcnIHx8XG4gICAgICAgICAgICBoZWFkZXIgPT09ICdvcHRpb25zJyB8fFxuICAgICAgICAgICAgaGVhZGVyID09PSAnYnV0dG9uJ1xuICAgICAgICAgIFwiXG4gICAgICAgID48L2Rpdj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgICBoZWFkZXIgIT09ICdpY29uJyAmJlxuICAgICAgICAgICAgaGVhZGVyICE9PSAnaW1nJyAmJlxuICAgICAgICAgICAgaGVhZGVyICE9PSAnb3B0aW9ucycgJiZcbiAgICAgICAgICAgIGhlYWRlciAhPT0gJ2J1dHRvbidcbiAgICAgICAgICBcIlxuICAgICAgICA+XG4gICAgICAgICAge3sgc21hcnRUYWJsZS5jdXN0b21UYWJsZUhlYWRlcnNbaV0gfX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3RoPlxuICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IGVsZW1lbnRcIj5cbiAgICAgICAgPG1hdC1pY29uICpuZ0lmPVwiaGVhZGVyID09PSAnaWNvbidcIj4ge3sgZWxlbWVudFtoZWFkZXJdIH19IDwvbWF0LWljb24+XG4gICAgICAgIDxpbWdcbiAgICAgICAgICAqbmdJZj1cImhlYWRlciA9PT0gJ2ltZydcIlxuICAgICAgICAgIFtzcmNdPVwiZWxlbWVudFtoZWFkZXJdXCJcbiAgICAgICAgICBhbHQ9XCJcIlxuICAgICAgICAgIGNsYXNzPVwic21hcnR0YWJsZUltZ1wiXG4gICAgICAgIC8+XG4gICAgICAgIDxkaXYgKm5nSWY9XCJoZWFkZXIgPT09ICdvcHRpb25zJ1wiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG1hdC1pY29uLWJ1dHRvblxuICAgICAgICAgICAgW21hdE1lbnVUcmlnZ2VyRm9yXT1cIm1lbnVcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIm9wdGlvbnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxtYXQtaWNvbj5tb3JlX3ZlcnQ8L21hdC1pY29uPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxtYXQtbWVudSAjbWVudT1cIm1hdE1lbnVcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IG9wdGlvbiBvZiBzbWFydFRhYmxlLm9wdGlvbnNcIlxuICAgICAgICAgICAgICBtYXQtbWVudS1pdGVtXG4gICAgICAgICAgICAgIChjbGljayk9XCJvcHRpb24uY2FsbGJhY2soZWxlbWVudClcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8bWF0LWljb24gKm5nSWY9XCJvcHRpb24uaWNvblwiPlxuICAgICAgICAgICAgICAgIHt7IG9wdGlvbi5pY29uIH19XG4gICAgICAgICAgICAgIDwvbWF0LWljb24+XG4gICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgIHt7IG9wdGlvbi5sYWJlbCB9fVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L21hdC1tZW51PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgICBoZWFkZXIgIT09ICdpY29uJyAmJlxuICAgICAgICAgICAgaGVhZGVyICE9PSAnaW1nJyAmJlxuICAgICAgICAgICAgaGVhZGVyICE9PSAnb3B0aW9uJyAmJlxuICAgICAgICAgICAgaGVhZGVyICE9PSAnYnV0dG9uJ1xuICAgICAgICAgIFwiXG4gICAgICAgID5cbiAgICAgICAgICB7eyBlbGVtZW50W2hlYWRlcl0gfX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgKm5nSWY9XCJoZWFkZXIgPT09ICdidXR0b24nXCI+XG4gICAgICAgICAgPHNtYXJ0LXRvb2xiYXIgW3Rvb2xiYXJdPVwiZWxlbWVudFtoZWFkZXJdXCI+PC9zbWFydC10b29sYmFyPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvdGQ+XG4gICAgPC9uZy1jb250YWluZXI+XG5cbiAgICA8dHJcbiAgICAgIG1hdC1oZWFkZXItcm93XG4gICAgICAqbWF0SGVhZGVyUm93RGVmPVwic21hcnRUYWJsZS50YWJsZUhlYWRlcnM7IHN0aWNreTogdHJ1ZVwiXG4gICAgPjwvdHI+XG4gICAgPHRyIG1hdC1yb3cgKm1hdFJvd0RlZj1cImxldCByb3c7IGNvbHVtbnM6IHNtYXJ0VGFibGUudGFibGVIZWFkZXJzXCI+PC90cj5cbiAgPC9kaXY+XG4gIDxkaXYgKm5nSWY9XCJzbWFydFRhYmxlLnRhYmxlVHlwZSAhPT0gdGFibGVUeXBlLklOSEVSSVRFRFwiPlxuICAgIDwhLS0gQ2hlY2tib3ggQ29sdW1uIC0tPlxuICAgIDxuZy1jb250YWluZXIgbWF0Q29sdW1uRGVmPVwic2VsZWN0XCI+XG4gICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPlxuICAgICAgICA8bWF0LWNoZWNrYm94XG4gICAgICAgICAgKGNoYW5nZSk9XCIkZXZlbnQgPyB0b2dnbGVBbGxSb3dzKCkgOiBudWxsXCJcbiAgICAgICAgICBbY2hlY2tlZF09XCJzbWFydFRhYmxlLnNlbGVjdGlvbiEuaGFzVmFsdWUoKSAmJiBpc0FsbFNlbGVjdGVkKClcIlxuICAgICAgICAgIFtpbmRldGVybWluYXRlXT1cInNtYXJ0VGFibGUuc2VsZWN0aW9uIS5oYXNWYWx1ZSgpICYmICFpc0FsbFNlbGVjdGVkKClcIlxuICAgICAgICAgIFthcmlhLWxhYmVsXT1cImNoZWNrYm94TGFiZWwoKVwiXG4gICAgICAgID5cbiAgICAgICAgPC9tYXQtY2hlY2tib3g+XG4gICAgICA8L3RoPlxuICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IHJvd1wiPlxuICAgICAgICA8bWF0LWNoZWNrYm94XG4gICAgICAgICAgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKVwiXG4gICAgICAgICAgKGNoYW5nZSk9XCIkZXZlbnQgPyBzbWFydFRhYmxlLnNlbGVjdGlvbiEudG9nZ2xlKHJvdykgOiBudWxsXCJcbiAgICAgICAgICBbY2hlY2tlZF09XCJzbWFydFRhYmxlLnNlbGVjdGlvbiEuaXNTZWxlY3RlZChyb3cpXCJcbiAgICAgICAgICBbYXJpYS1sYWJlbF09XCJjaGVja2JveExhYmVsKHJvdylcIlxuICAgICAgICA+XG4gICAgICAgIDwvbWF0LWNoZWNrYm94PlxuICAgICAgPC90ZD5cbiAgICA8L25nLWNvbnRhaW5lcj5cblxuICAgIDwhLS0gQ29sdW1uIERlc2NyaXB0b3IgLS0+XG4gICAgPGRpdiAqbmdGb3I9XCJsZXQgaGVhZGVyIG9mIHNtYXJ0VGFibGUudGFibGVIZWFkZXJzOyBsZXQgaSA9IGluZGV4XCI+XG4gICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiaGVhZGVyICE9PSAnc2VsZWN0J1wiIG1hdENvbHVtbkRlZj1cInt7IGhlYWRlciB9fVwiPlxuICAgICAgICA8dGggbWF0LWhlYWRlci1jZWxsICptYXRIZWFkZXJDZWxsRGVmPlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgICAgIGhlYWRlciA9PT0gJ2ljb24nIHx8IGhlYWRlciA9PT0gJ2ltZycgfHwgaGVhZGVyID09PSAnb3B0aW9ucydcbiAgICAgICAgICAgIFwiXG4gICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICpuZ0lmPVwiXG4gICAgICAgICAgICAgIGhlYWRlciAhPT0gJ2ljb24nICYmIGhlYWRlciAhPT0gJ2ltZycgJiYgaGVhZGVyICE9PSAnb3B0aW9ucydcbiAgICAgICAgICAgIFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAge3sgc21hcnRUYWJsZS5jdXN0b21UYWJsZUhlYWRlcnNbaV0gfX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC90aD5cbiAgICAgICAgPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IGVsZW1lbnRcIj5cbiAgICAgICAgICA8bWF0LWljb24gKm5nSWY9XCJoZWFkZXIgPT09ICdpY29uJ1wiPiB7eyBlbGVtZW50W2hlYWRlcl0gfX0gPC9tYXQtaWNvbj5cbiAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAqbmdJZj1cImhlYWRlciA9PT0gJ2ltZydcIlxuICAgICAgICAgICAgW3NyY109XCJlbGVtZW50W2hlYWRlcl1cIlxuICAgICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICAgIGNsYXNzPVwic21hcnR0YWJsZUltZ1wiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8ZGl2ICpuZ0lmPVwiaGVhZGVyID09PSAnb3B0aW9ucydcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgbWF0LWljb24tYnV0dG9uXG4gICAgICAgICAgICAgIFttYXRNZW51VHJpZ2dlckZvcl09XCJtZW51XCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIm9wdGlvbnNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8bWF0LWljb24+bW9yZV92ZXJ0PC9tYXQtaWNvbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPG1hdC1tZW51ICNtZW51PVwibWF0TWVudVwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgKm5nRm9yPVwibGV0IG9wdGlvbiBvZiBzbWFydFRhYmxlLm9wdGlvbnNcIlxuICAgICAgICAgICAgICAgIG1hdC1tZW51LWl0ZW1cbiAgICAgICAgICAgICAgICAoY2xpY2spPVwib3B0aW9uLmNhbGxiYWNrKGVsZW1lbnQpXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxtYXQtaWNvbiAqbmdJZj1cIm9wdGlvbi5pY29uXCI+XG4gICAgICAgICAgICAgICAgICB7eyBvcHRpb24uaWNvbiB9fVxuICAgICAgICAgICAgICAgIDwvbWF0LWljb24+XG4gICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICB7eyBvcHRpb24ubGFiZWwgfX1cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9tYXQtbWVudT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2ICpuZ0lmPVwiaGVhZGVyICE9PSAnaWNvbicgJiYgaGVhZGVyICE9PSAnaW1nJ1wiPlxuICAgICAgICAgICAge3sgZWxlbWVudFtoZWFkZXJdIH19XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvdGQ+XG4gICAgICAgIDwhLS0gPHRkIG1hdC1jZWxsICptYXRDZWxsRGVmPVwibGV0IGVsZW1lbnRcIj57eyBlbGVtZW50W2hlYWRlcl0gfX08L3RkPiAtLT5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvZGl2PlxuXG4gICAgPHRyIG1hdC1oZWFkZXItcm93ICptYXRIZWFkZXJSb3dEZWY9XCJzbWFydFRhYmxlLnRhYmxlSGVhZGVyc1wiPjwvdHI+XG4gICAgPHRyXG4gICAgICBtYXQtcm93XG4gICAgICAqbWF0Um93RGVmPVwibGV0IHJvdzsgY29sdW1uczogc21hcnRUYWJsZS50YWJsZUhlYWRlcnNcIlxuICAgICAgKGNsaWNrKT1cInNtYXJ0VGFibGUuc2VsZWN0aW9uIS50b2dnbGUocm93KVwiXG4gICAgPjwvdHI+XG4gIDwvZGl2PlxuPC90YWJsZT5cbiJdfQ==