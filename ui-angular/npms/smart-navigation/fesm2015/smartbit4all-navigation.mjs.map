{"version":3,"file":"smartbit4all-navigation.mjs","sources":["../../../projects/smart-navigation/src/lib/smart-navigation.service.ts","../../../projects/smart-navigation/src/lib/smart-navigation.module.ts","../../../projects/smart-navigation/src/projects.ts","../../../projects/smart-navigation/src/smartbit4all-navigation.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport {\n    ActivatedRoute,\n    NavigationExtras,\n    Params,\n    QueryParamsHandling,\n    Router,\n    UrlSegment,\n} from \"@angular/router\";\nimport { Subscription } from \"rxjs\";\nimport { SmartNavigation } from \"./smart-navigation.interface\";\n\n@Injectable({\n    providedIn: \"root\",\n})\nexport class SmartNavigationService implements SmartNavigation {\n    route?: ActivatedRoute;\n\n    constructor(private router: Router) {}\n    urlSubscription?: Subscription;\n    querySubscription?: Subscription;\n\n    navigateTo(\n        urls: string[],\n        queryParams?: Params | undefined,\n        queryParamsHandling?: QueryParamsHandling | undefined,\n        relativeToThis?: boolean\n    ): void {\n        let navigationExtras: NavigationExtras = {\n            queryParams,\n            queryParamsHandling,\n            relativeTo: relativeToThis ? this.route : undefined,\n        };\n        this.router.navigate(urls, navigationExtras);\n    }\n\n    subscribeToUrlChange(callback: (url: string) => void): Subscription {\n        if (this.route) {\n            return this.route.url.subscribe((urlSegments: UrlSegment[]) => {\n                let url = this.getCurrentPath();\n                if (callback) {\n                    callback(url);\n                }\n            });\n        } else {\n            throw new Error(\"The route: ActivatedRoute has not been set yet.\");\n        }\n    }\n\n    subscribeToQueryChange(callback: (params: Params) => void): void {\n        if (this.route) {\n            this.querySubscription = this.route.queryParams.subscribe((params: Params) => {\n                callback(params);\n            });\n        } else {\n            throw new Error(\"The route: ActivatedRoute has not been set yet.\");\n        }\n    }\n\n    unsubscribeFromQueryChanges(): void {\n        if (this.querySubscription) {\n            this.querySubscription.unsubscribe();\n        }\n    }\n\n    getCurrentPath(): string {\n        return this.router.url;\n    }\n}\n","import { NgModule } from \"@angular/core\";\nimport { SmartNavigationService } from \"./smart-navigation.service\";\n\n@NgModule({\n    declarations: [],\n    imports: [],\n    exports: [],\n    providers: [SmartNavigationService],\n})\nexport class SmartNavigationModule {}\n","/*\n * Public API Surface of smart-navigation\n */\n\nexport * from \"./lib/smart-navigation.service\";\nexport * from \"./lib/smart-navigation.module\";\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './projects';\n"],"names":[],"mappings":"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"}