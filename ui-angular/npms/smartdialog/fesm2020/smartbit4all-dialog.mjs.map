{"version":3,"file":"smartbit4all-dialog.mjs","sources":["../../../projects/smartdialog/src/lib/smartdialog.service.ts","../../../projects/smartdialog/src/lib/smartdialog.component.ts","../../../projects/smartdialog/src/lib/smartdialog.component.html","../../../projects/smartdialog/src/lib/smartdialog.module.ts","../../../projects/smartdialog/src/projects.ts","../../../projects/smartdialog/src/smartbit4all-dialog.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SmartdialogService {\n\n  constructor() { }\n}\n","import {\n    AfterViewInit,\n    Component,\n    ComponentFactory,\n    ComponentFactoryResolver,\n    ComponentRef,\n    Inject,\n    ViewChild,\n    ViewContainerRef,\n} from \"@angular/core\";\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material/dialog\";\nimport { SmartformComponent } from \"@smartbit4all/form\";\nimport { SmartDialogData } from \"./smartdialog.model\";\n\n@Component({\n    selector: \"smartdialog\",\n    templateUrl: \"./smartdialog.component.html\",\n    styleUrls: [\"./smartdialog.component.css\"],\n})\nexport class SmartDialog implements AfterViewInit {\n    @ViewChild(SmartformComponent) smartFormComponent!: SmartformComponent;\n\n    @ViewChild(\"renderComponentHere\", { read: ViewContainerRef })\n    vcRef?: ViewContainerRef;\n\n    componentRef?: ComponentRef<any>;\n\n    constructor(\n        public dialogRef: MatDialogRef<SmartDialog>,\n        @Inject(MAT_DIALOG_DATA) public data: SmartDialogData,\n        private resolver: ComponentFactoryResolver\n    ) {}\n\n    ngAfterViewInit() {\n        const factory = this.resolver.resolveComponentFactory(this.data.customComponent);\n        const ref = this.vcRef!.createComponent(factory);\n        ref.changeDetectorRef.detectChanges();\n    }\n\n    onActionClick(): void {\n        const controls = this.smartFormComponent.getForm().controls;\n\n        for (const control in controls) {\n            if (controls[control].valid) {\n                const widget = this.data.form!.widgets.find((k: any) => k.key === control);\n                if (widget) {\n                    widget.value = controls[control].value;\n                }\n            }\n        }\n\n        this.data.actionCallback([this.data]);\n    }\n\n    onNoClick(): void {\n        this.dialogRef.close();\n    }\n}\n","<div\n    class=\"dialog-container\"\n    [ngClass]=\"data.size.fullScreen ? 'fullScreen' : ''\"\n    [ngStyle]=\"{ width: data.size.width + 'px', height: data.size.height + 'px' }\"\n>\n    <div class=\"dialog-title-container\" mat-dialog-title>\n        <h1 class=\"dialog-title\">\n            {{ data.content.title }}\n        </h1>\n        <button mat-icon-button [mat-dialog-close]=\"\">\n            <mat-icon aria-hidden=\"false\" aria-label=\"Example home icon\">close</mat-icon>\n        </button>\n    </div>\n    <div *ngIf=\"!data.customComponent\" mat-dialog-content class=\"content\">\n        <p>\n            {{ data.content.description }}\n        </p>\n        <smartform *ngIf=\"data.form\" [smartForm]=\"data.form!\"></smartform>\n        <smarttable *ngIf=\"data.table\" [smartTable]=\"data.table!\"></smarttable>\n    </div>\n    <div *ngIf=\"!data.customComponent\" class=\"action-container\" mat-dialog-actions>\n        <button\n            class=\"action-button\"\n            *ngIf=\"data.cancelCallback\"\n            mat-button\n            (click)=\"(data.cancelCallback)\"\n        >\n            Cancel\n        </button>\n        <button\n            class=\"action-button\"\n            *ngIf=\"data.okCallback\"\n            mat-button\n            (click)=\"(data.okCallback)\"\n            cdkFocusInitial\n        >\n            Ok\n        </button>\n        <button\n            class=\"action-button\"\n            *ngIf=\"data.actionCallback\"\n            mat-raised-button\n            (click)=\"onActionClick()\"\n        >\n            {{ data.actionLabel }}\n        </button>\n    </div>\n    <mat-dialog-content>\n        <ng-template #renderComponentHere></ng-template>\n    </mat-dialog-content>\n    <div *ngIf=\"data.customComponent\"></div>\n</div>\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule, NO_ERRORS_SCHEMA } from \"@angular/core\";\nimport { SmartDialog } from \"./smartdialog.component\";\nimport { MatDialogModule } from \"@angular/material/dialog\";\nimport { MatIconModule } from \"@angular/material/icon\";\nimport { SmartformModule } from \"@smartbit4all/form\";\nimport { SmarttableModule } from \"@smartbit4all/table\";\nimport { MatCommonModule } from \"@angular/material/core\";\n\n@NgModule({\n    declarations: [SmartDialog],\n    imports: [MatDialogModule, MatCommonModule, MatIconModule, SmartformModule, SmarttableModule],\n    exports: [SmartDialog],\n    schemas: [CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA],\n})\nexport class SmartdialogModule {}\n","/*\n * Public API Surface of smartdialog\n */\n\nexport * from './lib/smartdialog.service';\nexport * from './lib/smartdialog.component';\nexport * from './lib/smartdialog.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './projects';\n"],"names":[],"mappings":"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"}