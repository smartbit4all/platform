{"version":3,"file":"smartbit4all-dialog.mjs","sources":["../../../projects/smartdialog/src/lib/smartdialog.service.ts","../../../projects/smartdialog/src/lib/smartdialog.component.ts","../../../projects/smartdialog/src/lib/smartdialog.component.html","../../../projects/smartdialog/src/lib/smartdialog.module.ts","../../../projects/smartdialog/src/lib/smartdialog.model.ts","../../../projects/smartdialog/src/projects.ts","../../../projects/smartdialog/src/smartbit4all-dialog.ts"],"sourcesContent":["import { ComponentType } from \"@angular/cdk/portal\";\nimport { Injectable } from \"@angular/core\";\nimport { MatDialog, MatDialogRef } from \"@angular/material/dialog\";\nimport { Router } from \"@angular/router\";\nimport { SmartDialogData } from \"./smartdialog.model\";\n\n@Injectable({\n    providedIn: \"root\",\n})\nexport class SmartdialogService {\n    dialogRef?: MatDialogRef<any, any>;\n    dialogData?: SmartDialogData;\n\n    constructor(protected dialog: MatDialog, protected router: Router) {}\n\n    createDialog(smartDialog: SmartDialogData, component: ComponentType<any>): void {\n        this.dialogData = smartDialog;\n\n        this.dialogRef = this.dialog.open(component, { data: this.dialogData });\n\n        this.dialogRef.afterClosed().subscribe((result) => {\n            this.handleAfterClosed(result);\n            this.closeDialog();\n        });\n    }\n\n    handleAfterClosed(result: any): void {\n        throw new Error(\"handleAfterClosed function is not implemented!\");\n    }\n\n    async closeDialog(): Promise<void> {\n        if (this.dialogData?.outlets) {\n            await this.router.navigate([\n                {\n                    outlets: this.dialogData.outlets,\n                },\n            ]);\n        }\n        this.dialogRef?.close();\n    }\n}\n","import {\n    AfterViewInit,\n    Component,\n    ComponentFactory,\n    ComponentFactoryResolver,\n    ComponentRef,\n    Inject,\n    ViewChild,\n    ViewContainerRef,\n} from \"@angular/core\";\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material/dialog\";\nimport { SmartformComponent } from \"@smartbit4all/form\";\nimport { SmartDialogData } from \"./smartdialog.model\";\n\n@Component({\n    selector: \"smartdialog\",\n    templateUrl: \"./smartdialog.component.html\",\n    styleUrls: [\"./smartdialog.component.css\"],\n})\nexport class SmartDialog implements AfterViewInit {\n    @ViewChild(SmartformComponent) smartFormComponent!: SmartformComponent;\n\n    @ViewChild(\"renderComponentHere\", { read: ViewContainerRef })\n    vcRef?: ViewContainerRef;\n\n    componentRef?: ComponentRef<any>;\n\n    constructor(\n        public dialogRef: MatDialogRef<SmartDialog>,\n        @Inject(MAT_DIALOG_DATA) public data: SmartDialogData,\n        private resolver: ComponentFactoryResolver\n    ) {}\n\n    ngAfterViewInit() {\n        const factory = this.resolver.resolveComponentFactory(this.data.customComponent);\n        const ref = this.vcRef!.createComponent(factory);\n        ref.changeDetectorRef.detectChanges();\n    }\n\n    onActionClick(): void {\n        const controls = this.smartFormComponent.getForm().controls;\n\n        for (const control in controls) {\n            if (controls[control].valid) {\n                const widget = this.data.form!.widgets.find((k: any) => k.key === control);\n                if (widget) {\n                    widget.value = controls[control].value;\n                }\n            }\n        }\n\n        if (this.data.actionCallback) {\n            this.data.actionCallback([this.data]);\n        }\n    }\n\n    onNoClick(): void {\n        this.dialogRef.close();\n    }\n}\n","<div\n    class=\"dialog-container\"\n    [ngClass]=\"data.size.fullScreen ? 'fullScreen' : ''\"\n    [ngStyle]=\"{ width: data.size.width + 'px', height: data.size.height + 'px' }\"\n>\n    <div class=\"dialog-title-container\" mat-dialog-title>\n        <h1 class=\"dialog-title\">\n            {{ data.content.title }}\n        </h1>\n        <button mat-icon-button [mat-dialog-close]=\"\">\n            <mat-icon aria-hidden=\"false\" aria-label=\"Example home icon\">close</mat-icon>\n        </button>\n    </div>\n    <div *ngIf=\"!data.customComponent\" mat-dialog-content class=\"content\">\n        <p>\n            {{ data.content.description }}\n        </p>\n        <smartform *ngIf=\"data.form\" [smartForm]=\"data.form!\"></smartform>\n        <smarttable *ngIf=\"data.table\" [smartTable]=\"data.table!\"></smarttable>\n    </div>\n    <div *ngIf=\"!data.customComponent\" class=\"action-container\" mat-dialog-actions>\n        <button\n            class=\"action-button\"\n            *ngIf=\"data.cancelCallback\"\n            mat-button\n            (click)=\"(data.cancelCallback)\"\n        >\n            Cancel\n        </button>\n        <button\n            class=\"action-button\"\n            *ngIf=\"data.okCallback\"\n            mat-button\n            (click)=\"(data.okCallback)\"\n            cdkFocusInitial\n        >\n            Ok\n        </button>\n        <button\n            class=\"action-button\"\n            *ngIf=\"data.actionCallback\"\n            mat-raised-button\n            (click)=\"onActionClick()\"\n        >\n            {{ data.actionLabel }}\n        </button>\n    </div>\n    <mat-dialog-content>\n        <ng-template #renderComponentHere></ng-template>\n    </mat-dialog-content>\n    <div *ngIf=\"data.customComponent\"></div>\n</div>\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule, NO_ERRORS_SCHEMA } from \"@angular/core\";\nimport { SmartDialog } from \"./smartdialog.component\";\nimport { MatDialogModule } from \"@angular/material/dialog\";\nimport { MatIconModule } from \"@angular/material/icon\";\nimport { SmartformModule } from \"@smartbit4all/form\";\nimport { SmarttableModule } from \"@smartbit4all/table\";\nimport { MatCommonModule } from \"@angular/material/core\";\nimport { SmartdialogService } from \"./smartdialog.service\";\nimport { BrowserModule } from \"@angular/platform-browser\";\n\n@NgModule({\n    declarations: [SmartDialog],\n    imports: [\n        BrowserModule,\n        MatDialogModule,\n        MatCommonModule,\n        MatIconModule,\n        SmartformModule,\n        SmarttableModule,\n    ],\n    exports: [SmartDialog],\n    schemas: [CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA],\n    providers: [SmartdialogService],\n})\nexport class SmartdialogModule {}\n","import { SmartForm } from \"@smartbit4all/form/lib/smartform.model\";\nimport { SmartTable } from \"@smartbit4all/table/lib/smarttable.model\";\n\n/**\n * This interface defines the size of a dialog.\n *\n * @author Roland Fényes\n */\nexport interface SmartDialogSize {\n    width?: number;\n    height?: number;\n    fullScreen?: boolean;\n}\n\n/**\n * This enum helps to define the action of a dialog.\n *\n * @author Roland Fényes\n */\nexport enum SmartActionType {\n    ADD,\n    CREATE,\n    UPDATE,\n    REMOVE,\n    DELETE,\n    SAVE,\n    OK,\n}\n\n/**\n * This interface describes the content of a dialog.\n *\n * @author Roland Fényes\n */\nexport interface SmartContent {\n    title: string;\n    description?: string;\n}\n\n/**\n * With this interface any kind of dialogs can be easily created.\n *\n * You must close the dialog manually!\n *\n * @param size Required. You can define the desired size of the dialog\n * @param actionType Required. The main action type of the dialog\n * @param content Required. Defines the title and the description of the dialog\n * @param form Not required. You can present a custom and dynamic form.\n * @param table Not required. You can present a custom table.\n * @param okCallback Not required. A custom callback function.\n * @param closeCallback Not required. A custom callback function.\n * @param actionCallback Required. A custom action callback function.\n * @param actionLabel Required. The name of the action button.\n *\n * @author Roland Fényes\n */\nexport interface SmartDialogData {\n    size: SmartDialogSize;\n    content: SmartContent;\n    customComponent?: any;\n    customComponentInputs?: any;\n    actionType?: SmartActionType;\n    form?: SmartForm;\n    table?: SmartTable<any>;\n    okCallback?: () => void;\n    cancelCallback?: (args: any[]) => void;\n    closeCallback?: (args: any[]) => void;\n    actionCallback?: (args: any[]) => void;\n    actionLabel?: string;\n    outlets?: any;\n}\n","/*\n * Public API Surface of smartdialog\n */\n\nexport * from \"./lib/smartdialog.service\";\nexport * from \"./lib/smartdialog.component\";\nexport * from \"./lib/smartdialog.module\";\nexport * from \"./lib/smartdialog.model\";\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './projects';\n"],"names":["i2"],"mappings":"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"}