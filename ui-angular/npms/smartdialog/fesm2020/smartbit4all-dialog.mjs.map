{"version":3,"file":"smartbit4all-dialog.mjs","sources":["../../../projects/smartdialog/src/lib/smartdialog.service.ts","../../../projects/smartdialog/src/lib/smartdialog.component.ts","../../../projects/smartdialog/src/lib/smartdialog.component.html","../../../projects/smartdialog/src/lib/smartdialog.module.ts","../../../projects/smartdialog/src/lib/smartdialog.model.ts","../../../projects/smartdialog/src/projects.ts","../../../projects/smartdialog/src/smartbit4all-dialog.ts"],"sourcesContent":["import { ComponentType } from \"@angular/cdk/portal\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { MatDialog, MatDialogRef } from \"@angular/material/dialog\";\r\nimport { Router } from \"@angular/router\";\r\nimport { SmartDialogData } from \"./smartdialog.model\";\r\n\r\n@Injectable({\r\n    providedIn: \"root\",\r\n})\r\nexport class SmartdialogService {\r\n    dialogRef?: MatDialogRef<any, any>;\r\n    dialogData?: SmartDialogData;\r\n\r\n    constructor(private dialog: MatDialog, private router: Router) {}\r\n\r\n    createDialog(smartDialog: SmartDialogData, component: ComponentType<any>): void {\r\n        this.dialogData = smartDialog;\r\n\r\n        this.dialogRef = this.dialog.open(component, { data: this.dialogData });\r\n\r\n        this.dialogRef.afterClosed().subscribe((result) => {\r\n            this.handleAfterClosed(result);\r\n            this.closeDialog();\r\n        });\r\n    }\r\n\r\n    handleAfterClosed(result: any): void {\r\n        throw new Error(\"handleAfterClosed function is not implemented!\");\r\n    }\r\n\r\n    async closeDialog(): Promise<void> {\r\n        if (this.dialogData?.outlets) {\r\n            await this.router.navigate([\r\n                {\r\n                    outlets: this.dialogData.outlets,\r\n                },\r\n            ]);\r\n        }\r\n        this.dialogRef?.close();\r\n    }\r\n}\r\n","import {\r\n    AfterViewInit,\r\n    Component,\r\n    ComponentFactory,\r\n    ComponentFactoryResolver,\r\n    ComponentRef,\r\n    Inject,\r\n    ViewChild,\r\n    ViewContainerRef,\r\n} from \"@angular/core\";\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material/dialog\";\r\nimport { SmartformComponent } from \"@smartbit4all/form\";\r\nimport { SmartDialogData } from \"./smartdialog.model\";\r\n\r\n@Component({\r\n    selector: \"smartdialog\",\r\n    templateUrl: \"./smartdialog.component.html\",\r\n    styleUrls: [\"./smartdialog.component.css\"],\r\n})\r\nexport class SmartDialog implements AfterViewInit {\r\n    @ViewChild(SmartformComponent) smartFormComponent!: SmartformComponent;\r\n\r\n    @ViewChild(\"renderComponentHere\", { read: ViewContainerRef })\r\n    vcRef?: ViewContainerRef;\r\n\r\n    componentRef?: ComponentRef<any>;\r\n\r\n    constructor(\r\n        public dialogRef: MatDialogRef<SmartDialog>,\r\n        @Inject(MAT_DIALOG_DATA) public data: SmartDialogData,\r\n        private resolver: ComponentFactoryResolver\r\n    ) {}\r\n\r\n    ngAfterViewInit() {\r\n        const factory = this.resolver.resolveComponentFactory(this.data.customComponent);\r\n        const ref = this.vcRef!.createComponent(factory);\r\n        ref.changeDetectorRef.detectChanges();\r\n    }\r\n\r\n    onActionClick(): void {\r\n        const controls = this.smartFormComponent.getForm().controls;\r\n\r\n        for (const control in controls) {\r\n            if (controls[control].valid) {\r\n                const widget = this.data.form!.widgets.find((k: any) => k.key === control);\r\n                if (widget) {\r\n                    widget.value = controls[control].value;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (this.data.actionCallback) {\r\n            this.data.actionCallback([this.data]);\r\n        }\r\n    }\r\n\r\n    onNoClick(): void {\r\n        this.dialogRef.close();\r\n    }\r\n}\r\n","<div\r\n    class=\"dialog-container\"\r\n    [ngClass]=\"data.size.fullScreen ? 'fullScreen' : ''\"\r\n    [ngStyle]=\"{ width: data.size.width + 'px', height: data.size.height + 'px' }\"\r\n>\r\n    <div class=\"dialog-title-container\" mat-dialog-title>\r\n        <h1 class=\"dialog-title\">\r\n            {{ data.content.title }}\r\n        </h1>\r\n        <button mat-icon-button [mat-dialog-close]=\"\">\r\n            <mat-icon aria-hidden=\"false\" aria-label=\"Example home icon\">close</mat-icon>\r\n        </button>\r\n    </div>\r\n    <div *ngIf=\"!data.customComponent\" mat-dialog-content class=\"content\">\r\n        <p>\r\n            {{ data.content.description }}\r\n        </p>\r\n        <smartform *ngIf=\"data.form\" [smartForm]=\"data.form!\"></smartform>\r\n        <smarttable *ngIf=\"data.table\" [smartTable]=\"data.table!\"></smarttable>\r\n    </div>\r\n    <div *ngIf=\"!data.customComponent\" class=\"action-container\" mat-dialog-actions>\r\n        <button\r\n            class=\"action-button\"\r\n            *ngIf=\"data.cancelCallback\"\r\n            mat-button\r\n            (click)=\"(data.cancelCallback)\"\r\n        >\r\n            Cancel\r\n        </button>\r\n        <button\r\n            class=\"action-button\"\r\n            *ngIf=\"data.okCallback\"\r\n            mat-button\r\n            (click)=\"(data.okCallback)\"\r\n            cdkFocusInitial\r\n        >\r\n            Ok\r\n        </button>\r\n        <button\r\n            class=\"action-button\"\r\n            *ngIf=\"data.actionCallback\"\r\n            mat-raised-button\r\n            (click)=\"onActionClick()\"\r\n        >\r\n            {{ data.actionLabel }}\r\n        </button>\r\n    </div>\r\n    <mat-dialog-content>\r\n        <ng-template #renderComponentHere></ng-template>\r\n    </mat-dialog-content>\r\n    <div *ngIf=\"data.customComponent\"></div>\r\n</div>\r\n","import { CUSTOM_ELEMENTS_SCHEMA, NgModule, NO_ERRORS_SCHEMA } from \"@angular/core\";\r\nimport { SmartDialog } from \"./smartdialog.component\";\r\nimport { MatDialogModule } from \"@angular/material/dialog\";\r\nimport { MatIconModule } from \"@angular/material/icon\";\r\nimport { SmartformModule } from \"@smartbit4all/form\";\r\nimport { SmarttableModule } from \"@smartbit4all/table\";\r\nimport { MatCommonModule } from \"@angular/material/core\";\r\nimport { SmartdialogService } from \"./smartdialog.service\";\r\n\r\n@NgModule({\r\n    declarations: [SmartDialog],\r\n    imports: [MatDialogModule, MatCommonModule, MatIconModule, SmartformModule, SmarttableModule],\r\n    exports: [SmartDialog],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA, NO_ERRORS_SCHEMA],\r\n    providers: [SmartdialogService],\r\n})\r\nexport class SmartdialogModule {}\r\n","import { SmartForm } from \"@smartbit4all/form/lib/smartform.model\";\r\nimport { SmartTable } from \"@smartbit4all/table/lib/smarttable.model\";\r\n\r\n/**\r\n * This interface defines the size of a dialog.\r\n *\r\n * @author Roland Fényes\r\n */\r\nexport interface SmartDialogSize {\r\n    width?: number;\r\n    height?: number;\r\n    fullScreen?: boolean;\r\n}\r\n\r\n/**\r\n * This enum helps to define the action of a dialog.\r\n *\r\n * @author Roland Fényes\r\n */\r\nexport enum SmartActionType {\r\n    ADD,\r\n    CREATE,\r\n    UPDATE,\r\n    REMOVE,\r\n    DELETE,\r\n    SAVE,\r\n    OK,\r\n}\r\n\r\n/**\r\n * This interface describes the content of a dialog.\r\n *\r\n * @author Roland Fényes\r\n */\r\nexport interface SmartContent {\r\n    title: string;\r\n    description?: string;\r\n}\r\n\r\n/**\r\n * With this interface any kind of dialogs can be easily created.\r\n *\r\n * You must close the dialog manually!\r\n *\r\n * @param size Required. You can define the desired size of the dialog\r\n * @param actionType Required. The main action type of the dialog\r\n * @param content Required. Defines the title and the description of the dialog\r\n * @param form Not required. You can present a custom and dynamic form.\r\n * @param table Not required. You can present a custom table.\r\n * @param okCallback Not required. A custom callback function.\r\n * @param closeCallback Not required. A custom callback function.\r\n * @param actionCallback Required. A custom action callback function.\r\n * @param actionLabel Required. The name of the action button.\r\n *\r\n * @author Roland Fényes\r\n */\r\nexport interface SmartDialogData {\r\n    size: SmartDialogSize;\r\n    content: SmartContent;\r\n    customComponent?: any;\r\n    customComponentInputs?: any;\r\n    actionType?: SmartActionType;\r\n    form?: SmartForm;\r\n    table?: SmartTable<any>;\r\n    okCallback?: () => void;\r\n    cancelCallback?: (args: any[]) => void;\r\n    closeCallback?: (args: any[]) => void;\r\n    actionCallback?: (args: any[]) => void;\r\n    actionLabel?: string;\r\n    outlets?: any;\r\n}\r\n","/*\r\n * Public API Surface of smartdialog\r\n */\r\n\r\nexport * from \"./lib/smartdialog.service\";\r\nexport * from \"./lib/smartdialog.component\";\r\nexport * from \"./lib/smartdialog.module\";\r\nexport * from \"./lib/smartdialog.model\";\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './projects';\n"],"names":["i2"],"mappings":"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"}