<div class="container" [formGroup]="form">
  <div [ngSwitch]="widgetInstance.type" class="container">
    <div
      *ngSwitchCase="smartFormWidgetType.CONTAINER"
      [ngClass]="getDirection()"
    >
      <smartformwidget
        *ngFor="let widget of widgetInstance.valueList"
        [form]="form"
        [widgetInstance]="widget"
      ></smartformwidget>
    </div>

    <div *ngSwitchCase="smartFormWidgetType.TEXT_FIELD">
      <div *ngIf="widgetInstance.showLabel">
        <h4>{{ widgetInstance.label }}</h4>
      </div>
      <mat-form-field
        class="input textField"
        [ngStyle]="{ width: widgetInstance.minWidth + 'px' }"
        appearance="outline"
      >
        <mat-label *ngIf="!widgetInstance.showLabel">
          {{ widgetInstance.label }}
        </mat-label>
        <input
          [formControlName]="widgetInstance.key"
          [id]="widgetInstance.key"
          [type]="'string'"
          [value]="widgetInstance.value"
          placeholder="{{ widgetInstance.placeholder }}"
          matInput
        />
        <span
          class="mat-error"
          *ngIf="
            !form.get(widgetInstance.key)?.valid &&
            form.get(widgetInstance.key)?.touched
          "
        >
          {{ widgetInstance.errorMessage }}
        </span>
        <span matPrefix>
          {{ widgetInstance.prefix }}
        </span>
        <span matSuffix>
          {{ widgetInstance.suffix }}
        </span>
        <mat-icon *ngIf="widgetInstance.icon" matSuffix>
          {{ widgetInstance.icon }}
        </mat-icon>
      </mat-form-field>
    </div>

    <div *ngSwitchCase="smartFormWidgetType.TEXT_FIELD_NUMBER">
      <div *ngIf="widgetInstance.showLabel">
        <h4>{{ widgetInstance.label }}</h4>
      </div>
      <mat-form-field
        class="input textField"
        [ngStyle]="{ width: widgetInstance.minWidth + 'px' }"
        appearance="outline"
      >
        <mat-label *ngIf="!widgetInstance.showLabel">
          {{ widgetInstance.label }}
        </mat-label>
        <input
          [formControlName]="widgetInstance.key"
          [id]="widgetInstance.key"
          [value]="widgetInstance.value"
          type="number"
          placeholder="{{ widgetInstance.placeholder }}"
          min="10"
          matInput
        />
        <span
          class="mat-error"
          *ngIf="
            !form.get(widgetInstance.key)?.valid &&
            form.get(widgetInstance.key)?.touched
          "
        >
          {{ widgetInstance.errorMessage }}
        </span>
        <span matPrefix>
          {{ widgetInstance.prefix }}
        </span>
        <span matSuffix>
          {{ widgetInstance.suffix }}
        </span>
        <mat-icon *ngIf="widgetInstance.icon" matSuffix>
          {{ widgetInstance.icon }}
        </mat-icon>
      </mat-form-field>
    </div>

    <div *ngSwitchCase="smartFormWidgetType.TEXT_FIELD_CHIPS">
      <div *ngIf="widgetInstance.showLabel">
        <h4>{{ widgetInstance.label }}</h4>
      </div>
      <mat-form-field
        class="input"
        [ngStyle]="{ width: widgetInstance.minWidth + 'px' }"
        appearance="outline"
      >
        <mat-label *ngIf="!widgetInstance.showLabel">
          {{ widgetInstance.label }}
        </mat-label>
        <mat-chip-list #chipList aria-label="{{ widgetInstance.label }}">
          <mat-chip
            *ngFor="let value of widgetInstance.valueList"
            (removed)="remove(value)"
          >
            {{ value.label }}
            <button matChipRemove>
              <mat-icon>cancel</mat-icon>
            </button>
          </mat-chip>
          <input
            placeholder="{{ widgetInstance.placeholder }}"
            [matChipInputFor]="chipList"
            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
            [matChipInputAddOnBlur]="addOnBlur"
            (matChipInputTokenEnd)="add($event)"
          />
          <span
            class="mat-error"
            *ngIf="
              !form.get(widgetInstance.key)?.valid &&
              form.get(widgetInstance.key)?.touched
            "
          >
            {{ widgetInstance.errorMessage }}
          </span>
        </mat-chip-list>
      </mat-form-field>
    </div>

    <div *ngSwitchCase="smartFormWidgetType.TEXT_BOX">
      <div *ngIf="widgetInstance.showLabel">
        <h4>{{ widgetInstance.label }}</h4>
      </div>
      <mat-form-field
        class="input"
        [ngStyle]="{ width: widgetInstance.minWidth + 'px' }"
        appearance="outline"
      >
        <mat-label *ngIf="!widgetInstance.showLabel">
          {{ widgetInstance.label }}
        </mat-label>
        <textarea
          [formControlName]="widgetInstance.key"
          [id]="widgetInstance.key"
          [type]="'string'"
          [value]="widgetInstance.value"
          placeholder="{{ widgetInstance.value }}"
          matInput
        ></textarea>
        <span
          class="mat-error"
          *ngIf="
            !form.get(widgetInstance.key)?.valid &&
            form.get(widgetInstance.key)?.touched
          "
        >
          {{ widgetInstance.errorMessage }}
        </span>
      </mat-form-field>
    </div>

    <div *ngSwitchCase="smartFormWidgetType.CHECK_BOX">
      <div *ngIf="widgetInstance.showLabel">
        <h4>{{ widgetInstance.label }}</h4>
      </div>
      <div
        class="input checkbox"
        [ngStyle]="{ width: widgetInstance.minWidth + 'px' }"
        appearance="outline"
      >
        <mat-label class="radioLabel" *ngIf="!widgetInstance.showLabel">
          {{ widgetInstance.label }}
        </mat-label>
        <section class="checkbox-section" [ngClass]="getDirection()">
          <mat-checkbox
            *ngFor="let checkbox of widgetInstance.valueList"
            class="selecatbleObject"
            formControlName="{{ widgetInstance.key }}"
          >
            {{ checkbox.label }}
          </mat-checkbox>
        </section>
        <span
          class="mat-error"
          *ngIf="
            !form.get(widgetInstance.key)?.valid &&
            form.get(widgetInstance.key)?.touched
          "
        >
          {{ widgetInstance.errorMessage }}
        </span>
      </div>
    </div>

    <div *ngSwitchCase="smartFormWidgetType.RADIO_BUTTON">
      <div *ngIf="widgetInstance.showLabel">
        <h4>{{ widgetInstance.label }}</h4>
      </div>
      <mat-radio-group
        class="input radio-section"
        [ngStyle]="{ width: widgetInstance.minWidth + 'px' }"
        aria-label="{{ widgetInstance.label }}"
        appearance="outline"
        formControlName="{{ widgetInstance.key }}"
      >
        <mat-label class="radioLabel" *ngIf="!widgetInstance.showLabel">
          {{ widgetInstance.label }}
        </mat-label>
        <div [ngClass]="getDirection()">
          <mat-radio-button
            class="selecatbleObject"
            *ngFor="let radio of widgetInstance.valueList"
            value="{{ radio.value }}"
            [ngClass]="getDirection()"
          >
            {{ radio.label }}
          </mat-radio-button>
        </div>
      </mat-radio-group>
      <span
        class="mat-error"
        *ngIf="
          !form.get(widgetInstance.key)?.valid &&
          form.get(widgetInstance.key)?.touched
        "
      >
        {{ widgetInstance.errorMessage }}
      </span>
    </div>

    <div *ngSwitchCase="smartFormWidgetType.DATE_PICKER">
      <div *ngIf="widgetInstance.showLabel">
        <h4>{{ widgetInstance.label }}</h4>
      </div>
      <mat-form-field
        class="input"
        [ngStyle]="{ width: widgetInstance.minWidth + 'px' }"
        appearance="outline"
      >
        <mat-label *ngIf="!widgetInstance.showLabel">
          {{ widgetInstance.label }}
        </mat-label>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        <input
          [formControlName]="widgetInstance.key"
          [id]="widgetInstance.key"
          [value]="widgetInstance.value"
          placeholder="{{ widgetInstance.value }}"
          matInput
          [matDatepicker]="picker"
        />
        <span
          class="mat-error"
          *ngIf="
            !form.get(widgetInstance.key)?.valid &&
            form.get(widgetInstance.key)?.touched
          "
        >
          {{ widgetInstance.errorMessage }}
        </span>
        <mat-hint>MM/DD/YYYY</mat-hint>
      </mat-form-field>
    </div>

    <div *ngSwitchCase="smartFormWidgetType.SELECT">
      <div *ngIf="widgetInstance.showLabel">
        <h4>{{ widgetInstance.label }}</h4>
      </div>
      <mat-form-field
        class="input"
        [ngStyle]="{ width: widgetInstance.minWidth + 'px' }"
        appearance="outline"
      >
        <mat-label *ngIf="!widgetInstance.showLabel">
          {{ widgetInstance.label }}
        </mat-label>
        <mat-select [formControlName]="widgetInstance.key">
          <mat-option
            *ngFor="let option of widgetInstance.valueList"
            [value]="option.key"
            >{{ option.value }}</mat-option
          >
        </mat-select>
        <span
          class="mat-error"
          *ngIf="
            !form.get(widgetInstance.key)?.valid &&
            form.get(widgetInstance.key)?.touched
          "
        >
          {{ widgetInstance.errorMessage }}
        </span>
      </mat-form-field>
    </div>

    <div *ngSwitchCase="smartFormWidgetType.SELECT_MULTIPLE">
      <div *ngIf="widgetInstance.showLabel">
        <h4>{{ widgetInstance.label }}</h4>
      </div>
      <div
        class="input"
        [ngStyle]="{ width: widgetInstance.minWidth + 'px' }"
        appearance="outline"
      >
        <mat-label *ngIf="!widgetInstance.showLabel">
          {{ widgetInstance.label }}
        </mat-label>
        <mat-select [formControlName]="widgetInstance.key" multiple>
          <mat-option
            *ngFor="let option of widgetInstance.valueList"
            [value]="option.key"
            >{{ option.value }}</mat-option
          >
        </mat-select>
        <span
          class="mat-error"
          *ngIf="
            !form.get(widgetInstance.key)?.valid &&
            form.get(widgetInstance.key)?.touched
          "
        >
          {{ widgetInstance.errorMessage }}
        </span>
      </div>
    </div>

    <div
      *ngSwitchCase="smartFormWidgetType.LABEL"
      class="label"
      [ngStyle]="{ width: widgetInstance.minWidth + 'px' }"
    >
      <div class="label-title">
        <h4>
          {{ widgetInstance.label }}
        </h4>
        <p>{{ widgetInstance.widgetDescription }}</p>
      </div>
    </div>
  </div>
</div>
